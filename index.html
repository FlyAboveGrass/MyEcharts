<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>echarts</title>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <header class="header">
        <h1>My Echarts</h1>
        <span class="showTime">2020年9月12号</span>
        <script>
            setInterval(() => {
                document.querySelector('.showTime').innerHTML = getTime();
            }, 1000)
            function getTime(){
                let date = new Date();
                const day = date.getFullYear() + '年' + (date.getMonth() + 1) + '月' + date.getDate() + '日';
                const time = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
                return day + '&nbsp' + time;
            }
        </script>
    </header>

    <div class="main-box">
        <div class="colume">
            <section class="pane border-rect bar">
                <h2>柱状图-就业行业</h2>
                <div class="chart">
                    
                </div>
            </section>
            <section class="pane border-rect line">
                <h2>折线图-人员变化</h2>
                <div class="chart">
                    
                </div>
            </section>
            <section class="pane border-rect"></section>
        </div>
        <section class="colume">
            <div class="num">
                <div class="hd">
                    <h1>125811</h1>
                    <h1>104563</h1>
                </div>
                <div class="bd">
                    <h3>前端需求人数</h3>
                    <h3>前端供应人数</h3>
                </div>
            </div>
            <div class="map">
                <div class="map-bg">
                    <div class="circle1"></div>
                    <div class="circle2"></div>
                </div>
                <div class="chart"></div>
            </div>
        </section>
        <div class="colume">
            <div class="pane border-rect bar2">
                <h2>柱状图-就业行业</h2>
                <div class="chart">
                    
                </div>
            </div>
            <div class="pane border-rect line">
                <h2>折线图-人员变化</h2>
                <div class="chart">
                    
                </div>
            </div>
            <div class="pane border-rect"></div>
        </div>
    </div>
</body>
<script src="./js/jquery.js"></script>
<script src="./js/echarts.min.js"></script>
<script>
    // 就业分布柱状图
    (function() {
        let echart = echarts.init(document.querySelector('.bar .chart'));
        let option = {
            color: ['#3398DB'],
            tooltip: {
                trigger: 'axis',    // 显示tooltip触发方式
                axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                    type: 'line'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: { // 整体布局
                top: '5%',
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true // 是否显示刻度
            },
            xAxis: [
                {
                    type: 'category',
                    data: ['旅游', '游戏', '电商', '编程', '医生', '教师'],
                    axisTick: {
                        alignWithLabel: true
                    },
                    axisLabel: {
                        color: "rgba(255,255,255,.6)",
                        fontSize: "12"
                    },
                    axisLine: {
                        show: false
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',  // 值类型
                    axisLabel: { // 刻度样式
                        color: "rgba(255,255,255,.6)",
                        fontSize: "12"
                    },
                    axisLine: {
                        show: true, // 轴线
                    },
                    splitLine: {
                        show: false, // 分割线
                    }
                }
            ],
            series: [
                {
                    name: '直接访问',
                    type: 'bar',
                    barWidth: '30%', // 柱的宽度
                    itemStyle: {
                        barBorderRadius: 5,
                    },
                    data: [10, 52, 200, 334, 201, 330, 220]
                }
            ]
        };
        echart.setOption(option);
        window.addEventListener('resize', () => {
            echart.resize();
        })
    })();

    // 柱形图 就业行业
    (function() {
        let myChart = echarts.init(document.querySelector('.bar2 .chart'));
        let myColor = ["#1089E7", "#F57474", "#56D0E3", "#F8B448", "#8B78F6"];
        let option = {
            title: {
                text: '',
                subtext: ''
            },
            tooltip: {
                show: false
            },
            grid: {
                top: '5%',
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                show: false
            },
            yAxis: [
                {
                    type: 'category',
                    data: ["HTML5", "CSS3", "javascript", "VUE", "NODE"],
                    axisLine:{    // 轴线
                        show: false
                    },
                    axisTick: {
                        show: false, // 不显示刻度  tick：标记、记号
                    },
                    axisLabel: {    // 刻度样式
                        color: '#fff',
                        fontSize: '12px'
                    },
                },
                { // 左右两边都有y轴
                    show: true,
                    data: [702, 350, 610, 793, 664],
                    // 不显示y轴的线
                    axisLine: {
                        show: false
                    },
                    // 不显示刻度
                    axisTick: {
                        show: false
                    },
                    axisLabel: {
                        textStyle: {
                            fontSize: 12,
                            color: "#fff"
                        }
                    }
                }
            ],
            series: [        // 子项的内容
                {
                    name: '需求人数',
                    type: 'bar',
                    data: [70, 34, 60, 78, 69],
                    barWidth: 10,
                    barCategoryGap: '20%', // 柱子之间的距离
                    barWidth: '10px',  // 柱子的宽度
                    yAxisIndex: 0,
                    itemStyle: {
                        barBorderRadius: 20,
                        color: (params) => {  // 给不同的柱子不同的颜色
                            return myColor[params.dataIndex]
                        }
                    },
                    label: {  // 柱子的信息
                        show: true,
                        position: 'inside',  // 信息显示位置
                        formatter: '{c}%', // 信息显示内容
                    }
                },
                {
                    name: '总人数',
                    type: 'bar',
                    data: [100, 100, 100, 100, 100],
                    barWidth: '15px', // 大于上面的，才可以把内部的柱子全部包裹，并且显示完全label
                    barCategoryGap: 50,
                    yAxisIndex: 1,
                    itemStyle: {
                        barBorderRadius: 20, // 圆角
                        color: 'none', // 颜色
                        borderWidth: 3, // 边框宽度
                        borderColor: '#00c1de', // 边框颜色
                    }
                }
            ]
        };

        myChart.setOption(option);
    })();

    // 折线图，人员数量变化
    (function() {
        let chart = echarts.init(document.querySelector('.line .chart'));
        let option = {
            title: {
                text: '折线图堆叠'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    name: '邮件营销',
                    type: 'line',
                    stack: '总量',
                    data: [120, 132, 101, 134, 90, 230, 210]
                },
                {
                    name: '联盟广告',
                    type: 'line',
                    stack: '总量',
                    data: [220, 182, 191, 234, 290, 330, 310]
                },
                {
                    name: '视频广告',
                    type: 'line',
                    stack: '总量',
                    data: [150, 232, 201, 154, 190, 330, 410]
                },
                {
                    name: '直接访问',
                    type: 'line',
                    stack: '总量',
                    data: [320, 332, 301, 334, 390, 330, 320]
                },
                {
                    name: '搜索引擎',
                    type: 'line',
                    stack: '总量',
                    data: [820, 932, 901, 934, 1290, 1330, 1320]
                }
            ]
        };
        chart.setOption(option);
    })();






</script>
</html>